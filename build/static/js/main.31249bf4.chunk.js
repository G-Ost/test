(this["webpackJsonpmoja-aplikacja"]=this["webpackJsonpmoja-aplikacja"]||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(21),s=n.n(a),r=(n(27),n(11)),o=n(8),l=n.n(o),u=n(12),j=n(9),d=(n(29),n.p+"static/media/bin.61e22baa.png"),b=n.p+"static/media/add.8937cc99.png",h=n(0);var p=function(e){var t=window.innerHeight/35,n=window.innerHeight/14;return e.isRemove?Object(h.jsx)("img",{alt:"removeButton",className:"removeButton",src:d,style:{height:t,width:t},onClick:e.clickFunction}):Object(h.jsx)("img",{alt:"submitButton",className:"submitButton",src:b,style:{height:n,width:n,top:-n/8},onClick:e.clickFunction})},O=n(2),f=c.a.createContext({});function x(e,t){var n=localStorage.getItem(e);return null!==n&&n.length>0?JSON.parse(n):"function"===typeof t?t():t}function g(e){var t=Object(j.a)(e,2);return{tasks:x(t[0],t[1]),formTask:"",filterCondition:"All"}}function v(e,t){switch(t.type){case"JOIN_EXTERNAL_DATA":if(0===e.tasks.length){var n=t.externalData.map((function(e){return{title:e.title,completed:e.completed,isDisplayable:"inline",id:"task"+e.id}}));return Object(O.a)(Object(O.a)({},e),{},{tasks:n})}return Object(O.a)({},e);case"FIELD":return Object(O.a)(Object(O.a)({},e),{},{formTask:t.payload});case"SUBMIT":return Object(O.a)(Object(O.a)({},e),{},{tasks:[].concat(Object(r.a)(e.tasks),[{title:e.formTask,completed:!1,isDisplayable:"inline",id:"Task".concat(e.tasks.length+1)}]),formTask:""});case"DELETE":var i=Object(r.a)(e.tasks);return i.splice(t.buttonIndex,1),Object(O.a)(Object(O.a)({},e),{},{tasks:Object(r.a)(i)});case"CHECKBOX":var c=Object(r.a)(e.tasks);return c[t.checkboxIndex].completed=!t.payload,Object(O.a)(Object(O.a)({},e),{},{tasks:Object(r.a)(c)});case"FILTER":var a,s=t.payload;return a="All"===s?"All":"Done"===s,Object(O.a)(Object(O.a)({},e),{},{filterCondition:a});default:return e}}var m=function(e){var t="toDoTaskList",n=window.innerHeight/2,c=Object(i.useReducer)(v,[t,[]],g),a=Object(j.a)(c,2),s=a[0],r=a[1];return Object(h.jsx)(f.Provider,{value:{state:s,dispatch:r,storageKey:t,elementsSizeUnit:n},children:e.children})};var k=function(e){var t=Object(i.useContext)(f),n=t.state,c=t.dispatch,a=t.storageKey,s=t.elementsSizeUnit,r={display:"flex",position:"relative",left:s/6,fontSize:s/12.5,top:s/10,height:"100%",width:"auto",marginRight:s/2};return Object(h.jsxs)("div",{style:r,children:[Object(h.jsx)("label",{id:"inputLabel",style:{whiteSpace:"no-wrap"}}),"Add new task: \xa0",Object(h.jsx)("input",{id:"taskInput",style:{fontSize:s/18,width:.5*s,height:s/11},type:"text",value:n.formTask,onChange:function(e){c({type:"FIELD",payload:e.target.value})}}),Object(h.jsx)(p,{clickFunction:function(e){e.preventDefault(),c({type:"SUBMIT",key:a})},isRemove:!1,title:"+"})]})};var y=function(e){var t=Object(i.useContext)(f),n=t.dispatch,c=t.elementsSizeUnit,a={display:"flex",position:"relative",top:c/10,left:c/6,fontSize:c/12.5,height:"100%",width:"auto",marginRight:c/2,whiteSpace:"no-wrap"};return Object(h.jsxs)("div",{style:a,children:[Object(h.jsx)("label",{id:"containerLabel"}),"Sort by:\xa0",Object(h.jsxs)("select",{id:"optionContainer",name:"condition",onChange:function(e){n({type:"FILTER",payload:e.target.value})},style:{fontSize:c/18,width:.5*c,height:c/9},children:[Object(h.jsx)("option",{defaultValue:"All",value:"All",children:" All "}),Object(h.jsx)("option",{value:"Done",children:" Done"}),Object(h.jsx)("option",{value:"Undone",children:" Undone"})]})]})};var w=function(e){var t=Object(i.useContext)(f).elementsSizeUnit;return Object(h.jsx)("input",{onChange:e.onClickBox,type:"checkbox",checked:e.isChecked,style:{transform:"scale(".concat(t/330,")")}})},C=n(10);var S=function(e){var t=Object(i.useContext)(f),n=t.state,c=t.dispatch,a=t.elementsSizeUnit,s=e.index+1+". ";return Object(h.jsxs)("p",{className:"task",id:"task"+e.index,children:[Object(h.jsx)(w,{onClickBox:function(){return t=e.index,void c({type:"CHECKBOX",checkboxIndex:t,payload:n.tasks[t].completed});var t},isChecked:n.tasks[e.index].completed}),"\xa0",Object(h.jsx)(C.b,{to:"/todos/".concat(e.task.id),children:Object(h.jsxs)("span",{style:{fontSize:a/18},children:[Object(h.jsx)("b",{children:s}),e.task.title]})}),"\xa0",Object(h.jsx)(p,{clickFunction:function(){return t=e.index,void c({type:"DELETE",buttonIndex:t});var t},isRemove:!0,title:"X"})]})};var T=function(){var e=Object(i.useContext)(f),t=e.state,n=e.elementsSizeUnit,c=t.tasks,a=t.filterCondition;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"tasks",style:{left:n/10,width:3*n},children:c.map((function(e,t){return("All"===a||e.completed===a)&&Object(h.jsx)(S,{task:e,index:t},t)}))})})},I=n(3),z=i.createContext();function E(e){var t=i.useState(!1),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(I.g)(),r=["QpwL5tke4Pnpja7X4"];function o(e,t){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(l.a.mark((function e(t,n){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){i=200===e.status&&e.json()}));case 2:return e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(u.a)(l.a.mark((function e(t,n){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.next=3,o(t,n).then((function(e){e&&r.includes(e.token)&&(i=!0,a(!0),s.push("/todo"))}));case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p={isLogged:c,signIn:function(e,t){return b.apply(this,arguments)},signOut:function(){return a(!1)}};return Object(h.jsx)(z.Provider,{value:p,children:e.children})}var F=n.p+"static/media/logout.bdc81afd.png",A=n.p+"static/media/hover.398217ee.png";var D=function(e){var t=Object(i.useContext)(f),n=t.state,c=t.dispatch,a=t.storageKey,s=t.elementsSizeUnit,o=Object(i.useContext)(z),d=o.isLogged,b=o.signOut,p=function(e){var t=Object(i.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1];return Object(i.useMemo)((function(){var t=!0;function n(){return(n=Object(u.a)(l.a.mark((function t(){var n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:i=t.sent,a(i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t&&function(){n.apply(this,arguments)}(),function(){t=!1}}),[e]),c}("https://jsonplaceholder.typicode.com/users/1/todos");Object(i.useEffect)((function(){localStorage.setItem(a,JSON.stringify(Object(r.a)(n.tasks)))}),[n.tasks,a]),Object(i.useEffect)((function(){c({type:"JOIN_EXTERNAL_DATA",externalData:p})}),[p,c]);var O=s/3;return d?Object(h.jsxs)("div",{className:"appContainer",style:{position:"absolute",width:"100%",height:O},children:[Object(h.jsxs)("span",{style:{position:"relative",display:"inline-flex",height:O,width:"100%",background:"rgb(50,200,255)"},children:[Object(h.jsx)(k,{}),Object(h.jsx)(y,{}),Object(h.jsx)("img",{alt:"logoutButton",onMouseOver:function(e){return e.currentTarget.src=A},onMouseOut:function(e){return e.currentTarget.src=F},style:{height:O/3,top:O/3.5,right:s/10,position:"absolute"},src:F,onClick:function(){b()}})]}),Object(h.jsx)(T,{})]}):Object(h.jsx)(I.a,{to:{pathname:"/login"}})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))},H=n.p+"static/media/lock.d009ed91.png";var B=function(e){var t=Object(i.useContext)(z).signIn,n=Object(i.useState)({email:"email",password:"password"}),c=Object(j.a)(n,2),a=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(j.a)(r,2),d=o[0],b=o[1],p={fontSize:window.innerHeight/40};function f(){return(f=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a.email,a.password).then((function(e){e||b(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("div",{style:{textAlign:"center"},children:[Object(h.jsx)("h1",{style:{fontSize:window.innerHeight/20},children:"User login"}),Object(h.jsx)("input",{style:p,onFocus:function(){s(Object(O.a)(Object(O.a)({},a),{},{email:""})),b(!1)},value:a.email,onChange:function(e){s(Object(O.a)(Object(O.a)({},a),{},{email:e.target.value}))}}),Object(h.jsx)("img",{alt:"lockIcon",style:{position:"absolute",display:"inline-block",top:window.innerHeight/9,height:window.innerHeight/11},src:H}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{style:p,value:a.password,onFocus:function(){s(Object(O.a)(Object(O.a)({},a),{},{password:""})),b(!1)},onChange:function(e){s(Object(O.a)(Object(O.a)({},a),{},{password:e.target.value}))}}),d&&Object(h.jsx)("h2",{style:{fontSize:window.innerHeight/50,color:"red"},children:"Wrong email or password."}),!d&&Object(h.jsx)("h2",{style:{fontSize:window.innerHeight/50},children:"\xa0"}),Object(h.jsx)("button",{style:{fontSize:window.innerHeight/35,background:"grey",color:"white"},onClick:function(){!function(){f.apply(this,arguments)}()},children:"Submit"}),Object(h.jsx)("br",{}),Object(h.jsx)("h2",{id:"hintMessage",onClick:function(){s({email:"eve.holt@reqres.in",password:"whatever"})},style:{fontSize:window.innerHeight/45},children:'Hint: auth server will accept email: "eve.holt@reqres.in" and any non-empty string as password (or just click here).'})]})};var N=function(e){var t=i.useContext(f).state,n=Object(I.h)().id,c=t.tasks.find((function(e){return e.id===n}));return Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:c?c.title:"Task was deleted."})})};var U=function(){var e=Object(I.g)(),t={backgroundColor:"#4CAF50",color:"white",fontSize:window.innerHeight/20};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"It looks like you're lost, m8."}),Object(h.jsx)("button",{style:t,onClick:function(){e.replace("/login")},children:"Take me back."})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(C.a,{children:Object(h.jsx)(E,{children:Object(h.jsx)(m,{children:Object(h.jsxs)(I.d,{children:[Object(h.jsx)(I.b,{path:"/todo",children:Object(h.jsx)(D,{})}),Object(h.jsx)(I.b,{path:"/todos/:id",children:Object(h.jsx)(N,{})}),Object(h.jsx)(I.b,{exact:!0,path:["/login","/"],children:Object(h.jsx)(B,{})}),Object(h.jsx)(I.b,{path:"/*",children:Object(h.jsx)(U,{})})]})})})})}),document.getElementById("root")),L()}},[[39,1,2]]]);
//# sourceMappingURL=main.31249bf4.chunk.js.map